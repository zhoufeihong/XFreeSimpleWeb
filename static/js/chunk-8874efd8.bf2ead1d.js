(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8874efd8"],{"0300":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-drawer",{attrs:{title:e.$t("uiPermission.接口资源绑定"),visible:e.currentDialogFormVisible,size:"35%"},on:{"update:visible":function(t){e.currentDialogFormVisible=t}}},[i("div",{staticClass:"drawer_content"},[i("div",{staticClass:"form_contet"},[i("background-api-tree",{model:{value:e.selectdBackgroundApis,callback:function(t){e.selectdBackgroundApis=t},expression:"selectdBackgroundApis"}})],1),i("div",{staticClass:"drawer_footer"},[i("el-button",{on:{click:function(t){e.currentDialogFormVisible=!1}}},[e._v(" "+e._s(e.$t("commonUse.取消"))+" ")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateData()}}},[e._v(" "+e._s(e.$t("commonUse.保存"))+" ")])],1)])])],1)},s=[],a=i("fe04"),r=i("1088"),o={name:"BindBackgroundApi",components:{BackgroundApiTree:r["default"]},props:{rowId:{type:String,default:""},dialogFormVisible:{type:Boolean,default:!1}},data:function(){return{selectdBackgroundApis:[]}},computed:{currentDialogFormVisible:{get:function(){return this.dialogFormVisible},set:function(e){this.$emit("update:dialogFormVisible",e)}}},watch:{rowId:function(e){var t=this;Object(a["g"])(e).then((function(e){t.selectdBackgroundApis=e.data}))}},created:function(){},methods:{updateData:function(){var e=this;this.selectdBackgroundApis||(this.selectdBackgroundApis=[]),Object(a["a"])(this.rowId,this.selectdBackgroundApis).then((function(){e.$notify({title:e.$t("operation.result.successTitle"),message:e.$t("operation.result.successMsg"),type:"success",duration:2e3})}))},success:function(){this.$emit("success",this.temp)}}},l=o,u=(i("79f2"),i("526b"),i("2877")),c=Object(u["a"])(l,n,s,!1,null,"5fce373a",null);t["default"]=c.exports},"0cd9":function(e,t,i){},1088:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.showSearch?i("el-input",{attrs:{placeholder:e.$t("commonUse.输入关键字进行过滤")},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}):e._e(),i("el-tree",{ref:"tree",attrs:{data:e.treeData,"show-checkbox":"","default-expand-all":"","check-strictly":"","check-on-click-node":"","expand-on-click-node":!1,"node-key":"value","highlight-current":"",props:e.defaultProps,"filter-node-method":e.filterNode},on:{check:e.handleChange,"current-change":e.currentChange}})],1)},s=[],a=(i("4de4"),i("d3b7"),i("4e82"),i("159b"),i("b0c0"),i("99af"),i("fe04")),r=i("4360"),o={name:"BackgroundApiTree",props:{value:{required:!0,type:Array},showSearch:{required:!1,default:!0,type:Boolean}},data:function(){return{list:[],filterText:"",treeData:[],defaultProps:{children:"children",label:"label"}}},watch:{filterText:function(e){this.$refs.tree.filter(e)},value:function(e){this.$refs.tree.setCheckedKeys(e)}},created:function(){this.listBackgroundApiiResource()},methods:{filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},listBackgroundApiiResource:function(){var e=this;Object(a["e"])().then((function(t){e.list=t.data,e.treeData=e.handleListBackgroundApiiResource(e.list),e.value&&e.$refs.tree.setCheckedKeys(e.value)}))},handleListBackgroundApiiResource:function(e){var t=this,i={isRoot:!0,value:"",children:[]};e.sort((function(e,t){return e.sortOrder-t.sortOrder}));var n=function i(n){e.forEach((function(e){if(n.isRoot&&e.primaryNode||e.parentPermissionCode===n.value){var s={value:e.permissionCode,label:t.getName(e),isRoot:!1};i(s,e.permissionCode),n.children||(n.children=[]),n.children.push(s)}}))};return n(i),i.children},handleChange:function(e){var t=this.$refs.tree.getCheckedKeys();t&&t instanceof Array&&t.length>0?this.$emit("input",t):this.$emit("input",[])},getName:function(e){return"en"===r["a"].getters.language?e.enName:e.name},currentChange:function(e,t){var i=!t.checked,n=this.$refs.tree.getCheckedKeys();if(e.children&&i){var s=[];this.getChildrenIds(e,s),console.log(s),this.$refs.tree.setCheckedKeys(n.concat(s))}else if(e.children&&!i){var a=[];this.getChildrenIds(e,a);var r=n.filter((function(e){return-1===a.indexOf(e)}));this.$refs.tree.setCheckedKeys(r)}},getChildrenIds:function(e,t){var i=this;e.children&&e.children.forEach((function(e){t.push(e.value),i.getChildrenIds(e,t)}))}}},l=o,u=(i("6d65"),i("2877")),c=Object(u["a"])(l,n,s,!1,null,null,null);t["default"]=c.exports},1517:function(e,t,i){"use strict";i("9a78")},"36ca":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-drawer",{attrs:{title:e.textMap[e.currentDialogStatus],visible:e.currentDialogFormVisible,size:"38%"},on:{"update:visible":function(t){e.currentDialogFormVisible=t}}},[i("div",{staticClass:"drawer_content"},[i("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,"label-position":"right","label-width":"180px"}},[i("el-form-item",{attrs:{label:e.$t("uiPermission.菜单类型")}},[i("el-radio-group",{on:{change:e.onChangeUiMenuType},model:{value:e.temp.uiMenuType,callback:function(t){e.$set(e.temp,"uiMenuType",t)},expression:"temp.uiMenuType"}},[i("el-radio-button",{attrs:{label:0}},[e._v(e._s(e.$t("uiPermission.一级菜单")))]),i("el-radio-button",{attrs:{label:1}},[e._v(e._s(e.$t("uiPermission.子菜单")))]),i("el-radio-button",{attrs:{label:2}},[e._v(e._s(e.$t("uiPermission.按钮/权限")))])],1)],1),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0!==e.temp.uiMenuType,expression:"temp.uiMenuType !== 0"}],attrs:{label:e.$t("uiPermission.上级菜单"),prop:"parentId"}},[i("ui-permission-select",{attrs:{"ignore-values":[e.temp.id],placeholder:e.$t("uiPermission.请选择上级")},model:{value:e.temp.parentId,callback:function(t){e.$set(e.temp,"parentId",t)},expression:"temp.parentId"}})],1),i("el-form-item",{attrs:{label:e.menuLabel,prop:"name"}},[i("el-input",{attrs:{placeholder:e.$t("uiPermission.请输入名称")},model:{value:e.temp.name,callback:function(t){e.$set(e.temp,"name","string"===typeof t?t.trim():t)},expression:"temp.name"}})],1),i("el-form-item",{attrs:{label:e.menuEnLabel,prop:"enName"}},[i("el-input",{attrs:{placeholder:e.$t("uiPermission.请输入英文名称")},model:{value:e.temp.enName,callback:function(t){e.$set(e.temp,"enName",t)},expression:"temp.enName"}})],1),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{label:e.$t("uiPermission.图标")}},[i("e-icon-picker",{model:{value:e.temp.icon,callback:function(t){e.$set(e.temp,"icon",t)},expression:"temp.icon"}})],1),i("el-form-item",{attrs:{label:e.$t("uiPermission.菜单路径")}},[i("el-input",{attrs:{placeholder:e.$t("uiPermission.请输入")},model:{value:e.temp.url,callback:function(t){e.$set(e.temp,"url","string"===typeof t?t.trim():t)},expression:"temp.url"}})],1),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{label:e.$t("uiPermission.前端组件名称")}},[i("el-input",{attrs:{placeholder:e.$t("uiPermission.请输入")},model:{value:e.temp.componentName,callback:function(t){e.$set(e.temp,"componentName","string"===typeof t?t.trim():t)},expression:"temp.componentName"}})],1),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{label:e.$t("uiPermission.前端组件")}},[i("el-input",{attrs:{placeholder:e.$t("uiPermission.请输入")},model:{value:e.temp.component,callback:function(t){e.$set(e.temp,"component","string"===typeof t?t.trim():t)},expression:"temp.component"}})],1),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0==e.temp.uiMenuType,expression:"temp.uiMenuType==0"}],attrs:{label:e.$t("uiPermission.默认跳转地址")}},[i("el-input",{attrs:{placeholder:e.$t("uiPermission.请输入")},model:{value:e.temp.redirect,callback:function(t){e.$set(e.temp,"redirect","string"===typeof t?t.trim():t)},expression:"temp.redirect"}})],1),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],attrs:{label:e.$t("uiPermission.权限编码"),prop:"perms"}},[i("el-input",{attrs:{placeholder:e.$t("uiPermission.请输入权限编码")},model:{value:e.temp.perms,callback:function(t){e.$set(e.temp,"perms","string"===typeof t?t.trim():t)},expression:"temp.perms"}})],1),i("el-form-item",{attrs:{label:e.$t("table.status")}},[i("el-switch",{model:{value:e.temp.enabled,callback:function(t){e.$set(e.temp,"enabled",t)},expression:"temp.enabled"}})],1),i("el-form-item",{attrs:{label:e.$t("uiPermission.排序")}},[i("el-input-number",{attrs:{placeholder:e.$t("uiPermission.请选择")},model:{value:e.temp.sortOrder,callback:function(t){e.$set(e.temp,"sortOrder",t)},expression:"temp.sortOrder"}})],1),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{label:e.$t("uiPermission.是否路由菜单")}},[i("el-switch",{model:{value:e.temp.isRoute,callback:function(t){e.$set(e.temp,"isRoute",t)},expression:"temp.isRoute"}})],1),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{label:e.$t("uiPermission.是否缓存该页面")}},[i("el-switch",{model:{value:e.temp.keepAlive,callback:function(t){e.$set(e.temp,"keepAlive",t)},expression:"temp.keepAlive"}})],1),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{label:e.$t("uiPermission.是否隐藏路由")}},[i("el-switch",{model:{value:e.temp.hidden,callback:function(t){e.$set(e.temp,"hidden",t)},expression:"temp.hidden"}})],1),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{label:e.$t("uiPermission.外部打开")}},[i("el-switch",{model:{value:e.temp.openMode,callback:function(t){e.$set(e.temp,"openMode",t)},expression:"temp.openMode"}})],1)],1),i("div",{staticClass:"drawer_footer"},[i("el-button",{on:{click:function(t){e.currentDialogFormVisible=!1}}},[e._v(" "+e._s(e.$t("commonUse.取消"))+" ")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.currentDialogStatus?e.createData():e.updateData()}}},[e._v(" "+e._s(e.$t("commonUse.保存"))+" ")])],1)],1)])],1)},s=[],a=i("a50b"),r=i("fe04"),o={name:"CreateEdit",components:{UiPermissionSelect:a["default"]},props:{row:{type:Object,default:null},dialogStatus:{type:String,default:""}},data:function(){return{currentDialogFormVisible:!1,show:!0,menuLabel:this.$t("uiPermission.菜单名称"),menuEnLabel:this.$t("uiPermission.菜单英文名称"),temp:{id:"",status:1,uiMenuType:0},excution:!1,textMap:{update:this.$t("table.edit"),create:this.$t("table.add")},rules:{name:[{required:!0,message:this.$t("uiPermission.必填"),trigger:"change"}]}}},computed:{currentDialogStatus:{get:function(){return this.dialogStatus},set:function(e){this.$emit("update:dialogStatus",e)}}},watch:{row:function(e){this.currentDialogFormVisible=!0,"create"===this.currentDialogStatus?(this.temp={enabled:!0,parentId:e.parentId,uiMenuType:e.parentId?1:0},this.handleCreate()):(this.temp=e,this.handleUpdate(e))}},created:function(){},methods:{handleUpdate:function(e){var t=this;this.onChangeUiMenuType(),this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},handleCreate:function(){var e=this;this.onChangeUiMenuType(),this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},checkMenuType:function(){return!0},createData:function(){var e=this;this.checkMenuType()&&this.$refs["dataForm"].validate((function(t){t&&(e.excution=!0,Object(r["b"])(e.temp).then((function(){e.$notify({title:e.$t("operation.result.successTitle"),message:e.$t("operation.result.addSuccessTitle"),type:"success",duration:2e3}),e.success(),e.currentDialogFormVisible=!1,e.excution=!1}),(function(){e.excution=!1})))}))},onChangeUiMenuType:function(){2===this.temp.uiMenuType?(this.show=!1,this.menuLabel=this.$t("uiPermission.按钮/权限"),this.menuEnLabel=this.$t("uiPermission.按钮/权限")):(this.show=!0,this.menuLabel=this.$t("uiPermission.菜单名称"),this.menuEnLabel=this.$t("uiPermission.菜单英文名称"))},updateData:function(){var e=this;this.checkMenuType()&&this.$refs["dataForm"].validate((function(t){if(t){var i=Object.assign({},e.temp);Object(r["j"])(i.id,i).then((function(){e.success(),e.$notify({title:e.$t("operation.result.successTitle"),message:e.$t("operation.result.editSuccessTitle"),type:"success",duration:2e3})}))}}))},success:function(){this.$emit("success",this.temp)}}},l=o,u=(i("61b2"),i("ead4"),i("2877")),c=Object(u["a"])(l,n,s,!1,null,"6733545e",null);t["default"]=c.exports},"43d0":function(e,t,i){},"526b":function(e,t,i){"use strict";i("b4b6")},"5b28":function(e,t,i){},6198:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"system:uiPermission:create",expression:"'system:uiPermission:create'"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.handleCreate}},[e._v(" "+e._s(e.$t("table.add"))+" ")]),i("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:e.handleFilter}},[e._v(" "+e._s(e.$t("uiPermission.刷新"))+" ")]),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"system:uiPermission:refreshBackgroundApi",expression:"'system:uiPermission:refreshBackgroundApi'"}],staticClass:"filter-item",attrs:{type:"danger",icon:"el-icon-refresh"},on:{click:e.handleRefreshBackgroundApi}},[e._v(" "+e._s(e.$t("uiPermission.刷新接口资源"))+" ")]),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"system:uiPermission:refreshBackgroundApi",expression:"'system:uiPermission:refreshBackgroundApi'"}],staticClass:"filter-item",attrs:{type:"danger",icon:"el-icon-refresh"},on:{click:e.handleRemoveAllMemoryCache}},[e._v(" "+e._s(e.$t("uiPermission.清除服务本地缓存"))+" ")])],1),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"",lazy:"","highlight-current-row":"","row-key":"id",load:e.load,"tree-props":{children:"children",hasChildren:"hasChildren"}}},[e._v(" > "),i("el-table-column",{attrs:{label:e.$t("commonUse.名称"),"min-width":"150",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[i("span",[e._v(e._s(n.name))])]}}])}),i("el-table-column",{attrs:{label:e.$t("commonUse.英文名称"),"min-width":"150",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[i("span",[e._v(e._s(n.enName))])]}}])}),i("el-table-column",{attrs:{label:e.$t("uiPermission.图标"),"min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[i("i",{class:t.icon})]}}])}),i("el-table-column",{attrs:{label:e.$t("uiPermission.类型"),"min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[i("span",[e._v(e._s(e._f("uiMenuTypeFilter")(n.uiMenuType)))])]}}])}),i("el-table-column",{attrs:{label:e.$t("uiPermission.组件"),"min-width":"130",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[i("span",[e._v(e._s(n.component))])]}}])}),i("el-table-column",{attrs:{label:e.$t("uiPermission.菜单路径"),"min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[i("span",[e._v(e._s(n.url))])]}}])}),i("el-table-column",{attrs:{label:e.$t("uiPermission.排序"),"min-width":"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[i("span",[e._v(e._s(n.sortOrder))])]}}])}),i("el-table-column",{attrs:{label:e.$t("table.creationTime"),"min-width":"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[i("span",[e._v(e._s(e._f("parseTime")(n.creationTime,"{y}-{m}-{d} {h}:{i}")))])]}}])}),i("el-table-column",{attrs:{label:e.$t("table.actions"),align:"center","min-width":"400","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row,s=t.$index;return[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"system:uiPermission:update",expression:"'system:uiPermission:update'"}],attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleCreateFromRow(n)}}},[e._v(" "+e._s(e.$t("uiPermission.添加下级"))+" ")]),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"system:uiPermission:update",expression:"'system:uiPermission:update'"}],attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleUpdate(n)}}},[e._v(" "+e._s(e.$t("table.edit"))+" ")]),"deleted"!=n.status?i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"system:uiPermission:delete",expression:"'system:uiPermission:delete'"}],attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleDelete(n,s)}}},[e._v(" "+e._s(e.$t("table.delete"))+" ")]):e._e(),"deleted"!=n.status?i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"system:uiPermission:update",expression:"'system:uiPermission:update'"}],attrs:{size:"mini",type:"danger"},on:{click:function(t){e.bindBackgroundApi.rowId=n.id,e.bindBackgroundApi.dialogFormVisible=!0}}},[e._v(" "+e._s(e.$t("uiPermission.绑定接口资源"))+" ")]):e._e()]}}])})],1),i("create-edit",{attrs:{row:e.temp,"dialog-status":e.dialogStatus},on:{"update:dialogStatus":function(t){e.dialogStatus=t},"update:dialog-status":function(t){e.dialogStatus=t},success:function(t){return e.handleFilter()}}}),i("bind-background-api",{attrs:{"row-id":e.bindBackgroundApi.rowId,"dialog-form-visible":e.bindBackgroundApi.dialogFormVisible},on:{"update:dialogFormVisible":function(t){return e.$set(e.bindBackgroundApi,"dialogFormVisible",t)},"update:dialog-form-visible":function(t){return e.$set(e.bindBackgroundApi,"dialogFormVisible",t)}}})],1)},s=[],a=(i("d3b7"),i("159b"),i("fe04")),r=i("d454"),o=i("36ca"),l=i("0300"),u={name:"UiPermission",components:{CreateEdit:o["default"],BindBackgroundApi:l["default"]},filters:{uiMenuTypeFilter:function(e){return r["a"].getNameById(r["a"].uiMenuType,e)}},data:function(){return{tableKey:0,list:[],total:0,listLoading:!0,excution:!1,temp:{},dialogStatus:"",bindBackgroundApi:{dialogFormVisible:!1,rowId:""}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(a["f"])("").then((function(t){e.list=t.data.items,e.list&&e.list.forEach((function(e){e.hasChildren=!e.isLeaf})),setTimeout((function(){e.listLoading=!1}),200)}))},load:function(e,t,i){Object(a["f"])(e.id).then((function(e){var t=e.data.items;t&&(t.forEach((function(e){e.hasChildren=!e.isLeaf})),i(t))}))},handleFilter:function(){this.tableKey++,this.getList()},handleCreate:function(){this.dialogStatus="create",this.temp={}},handleCreateFromRow:function(e){this.dialogStatus="create",this.temp={parentId:e.id}},handleUpdate:function(e){this.dialogStatus="update",this.temp=Object.assign({},e)},handleDelete:function(e,t){var i=this,n=this;this.$confirm(this.$t("operation.confirmDeleteMessage"),this.$t("operation.confirmDeleteTitle"),{confirmButtonText:this.$t("operation.confirmButtonText"),cancelButtonText:this.$t("operation.cancelButtonText"),type:"warning"}).then((function(){Object(a["c"])(e.id).then((function(){i.handleFilter(),n.$notify({title:i.$t("operation.result.successTitle"),message:i.$t("operation.result.deleteSuccessTitle"),type:"success",duration:2e3})}))}))},handleRefreshBackgroundApi:function(){var e=this;Object(a["h"])().then((function(){e.$notify({title:e.$t("operation.result.successTitle"),message:e.$t("operation.successMsg"),type:"success",duration:2e3})}))},handleRemoveAllMemoryCache:function(){var e=this;Object(a["i"])().then((function(){e.$notify({title:e.$t("operation.result.successTitle"),message:e.$t("operation.successMsg"),type:"success",duration:2e3})}))}}},c=u,d=(i("1517"),i("2877")),m=Object(d["a"])(c,n,s,!1,null,"698e9416",null);t["default"]=m.exports},"61b2":function(e,t,i){"use strict";i("d374")},"6d65":function(e,t,i){"use strict";i("5b28")},"700a":function(e,t,i){"use strict";i("a4fe")},"79f2":function(e,t,i){"use strict";i("43d0")},"9a78":function(e,t,i){},a4fe:function(e,t,i){},a50b:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-cascader",{attrs:{options:e.options,filterable:"",props:{checkStrictly:!0},clearable:!0},on:{change:e.handleChange},model:{value:e.dataValue,callback:function(t){e.dataValue=t},expression:"dataValue"}})},s=[],a=(i("4de4"),i("d3b7"),i("caad"),i("2532"),i("4e82"),i("159b"),i("b0c0"),i("fe04")),r={name:"UiPermissionSelect",props:{value:{require:!1,type:String,default:""},ignoreValues:{type:Array,default:function(){return[]}}},data:function(){return{dataValue:[],list:[],options:[]}},watch:{value:function(e,t){this.setOptions(e)},ignoreValues:function(e,t){this.options=this.transformationTree(this.list)}},created:function(){this.getList()},methods:{transformationTree:function(e){var t=this,i=e.filter((function(e){return!t.ignoreValues.includes(e.id)})),n={isRoot:!0,value:"",children:[]};i.sort((function(e,t){return e.sortOrder-t.sortOrder}));var s=function e(t){i.forEach((function(i){if(t.isRoot&&0===i.uiMenuType||i.parentId===t.value){var n={value:i.id,label:i.name,isRoot:!1};e(n,i.id),t.children||(t.children=[]),t.children.push(n)}}))};return s(n),n.children},getList:function(){var e=this;Object(a["d"])().then((function(t){e.list=t.data.items,e.options=e.transformationTree(e.list),e.setOptions(e.value)}))},handleChange:function(e){e&&e instanceof Array&&e.length>0?this.$emit("input",e[e.length-1]):this.$emit("input","")},setOptions:function(e){var t=this,i=[],n=function e(n){n&&t.list.forEach((function(t){t.id===n&&(i.push(t.id),e(t.parentId))}))};n(e),i.reverse(),this.dataValue=i}}},o=r,l=(i("700a"),i("2877")),u=Object(l["a"])(o,n,s,!1,null,null,null);t["default"]=u.exports},b4b6:function(e,t,i){},d374:function(e,t,i){},ead4:function(e,t,i){"use strict";i("0cd9")},fe04:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"j",(function(){return r})),i.d(t,"c",(function(){return o})),i.d(t,"f",(function(){return l})),i.d(t,"d",(function(){return u})),i.d(t,"e",(function(){return c})),i.d(t,"g",(function(){return d})),i.d(t,"a",(function(){return m})),i.d(t,"h",(function(){return p})),i.d(t,"i",(function(){return f}));i("99af");var n=i("b775"),s=i("f54c");function a(e){return Object(n["a"])({url:"".concat(s["a"],"api/systemManagement/uiPermission"),method:"post",data:e})}function r(e,t){return Object(n["a"])({url:"".concat(s["a"],"api/systemManagement/uiPermission/").concat(e),method:"put",data:t})}function o(e){return Object(n["a"])({url:"".concat(s["a"],"api/systemManagement/uiPermission/").concat(e),method:"delete"})}function l(e){return Object(n["a"])({url:"".concat(s["a"],"api/systemManagement/uiPermission/query"),method:"get",params:{parentId:e}})}function u(){return Object(n["a"])({url:"".concat(s["a"],"api/systemManagement/uiPermission/getAll"),method:"get"})}function c(){return Object(n["a"])({url:"".concat(s["a"],"api/systemManagement/uiPermission/getAllBackgroundApi"),method:"get"})}function d(e){return Object(n["a"])({url:"".concat(s["a"],"api/systemManagement/uiPermission/").concat(e,"/permissionCodes"),method:"get"})}function m(e,t){return Object(n["a"])({url:"".concat(s["a"],"api/systemManagement/uiPermission/").concat(e,"/permissionCodes"),method:"put",data:t})}function p(){return Object(n["a"])({url:"".concat(s["a"],"api/systemManagement/uiPermission/refreshBackgroundApi"),method:"put"})}function f(){return Object(n["a"])({url:"".concat(s["a"],"api/systemManagement/uiPermission/removeAllMemoryCache"),method:"put"})}}}]);